{"version":3,"sources":["components/BooksList.jsx","App.js","index.js"],"names":["BooksList","_ref","list","AOS","init","react_default","a","createElement","className","map","el","bookInfo","volumeInfo","shortDescription","description","split","slice","join","data-aos","data-aos-offset","data-aos-delay","data-aos-duration","data-aos-once","key","id","src","imageLinks","thumbnail","alt","title","authors","App","_useState","useState","_useState2","Object","slicedToArray","inputValue","setInputValue","_useState3","_useState4","booksList","setBooksList","_useState5","_useState6","fetchedResults","_useState7","_useState8","_useState9","_useState10","isFetchedData","setIsFetchedData","fetchBookData","asyncToGenerator","regenerator_default","mark","_callee","res","data","wrap","_context","prev","next","fetch","concat","sent","json","setTimeout","items","stop","apply","this","arguments","type","value","onChange","e","target","placeholder","onClick","length","src_components_BooksList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cd052eb2.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./BooksList.css\";\nimport PropTypes from \"prop-types\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\n\nconst BooksList = ({ list }) => {\n  AOS.init();\n  return (\n    <ul className=\"books-list\">\n      {list.map(el => {\n        let bookInfo = el.volumeInfo;\n        let shortDescription = bookInfo.description;\n        if (shortDescription) {\n          shortDescription = shortDescription.split(\".\");\n          shortDescription = shortDescription.slice(0, 1).join(\".\");\n        }\n        return (\n          <li\n            data-aos=\"fade-in\"\n            data-aos-offset=\"0\"\n            data-aos-delay=\"0\"\n            data-aos-duration=\"1000\"\n            data-aos-once=\"true\"\n            className=\"book-element\"\n            key={el.id}\n          >\n            <img\n              className=\"book-thumbnail\"\n              src={\n                bookInfo.imageLinks\n                  ? bookInfo.imageLinks.thumbnail\n                  : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz6XrCrnrkS3Zkz2ZmhEEFRTqNHJz0iFvna87RMp9QmE0_LymlQw\"\n              }\n              alt=\"thumbnail of book\"\n            />\n            <p className=\"book-details title\">{bookInfo.title}</p>\n            <p className=\"book-details author\">{bookInfo.authors}</p>\n            <p className=\"book-details description\">\n              {shortDescription ? shortDescription : \"No description\"}\n            </p>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nBooksList.propTypes = {\n  list: PropTypes.array.isRequired\n};\n\nexport default BooksList;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport BooksListComponent from \"./components/BooksList\";\n\nfunction App() {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [booksList, setBooksList] = useState([]);\n  const [fetchedResults, setFetchedResults] = useState(5);\n  const [browserPosition, setBrowserPosition] = useState(0);\n  const [isFetchedData, setIsFetchedData] = useState(false);\n  const fetchBookData = async () => {\n    await setIsFetchedData(true);\n    const res = await fetch(\n      `https://www.googleapis.com/books/v1/volumes?q=intitle:${inputValue}&maxResults=${fetchedResults}`\n    );\n    const data = await res.json();\n    setTimeout(() => {\n      if (data.items) {\n        setBooksList(data.items);\n      } else {\n        data.items = [];\n        setBooksList(data.items);\n      }\n      setIsFetchedData(false);\n    }, 3000);\n  };\n\n  const inputValueChange = e => {\n    setInputValue(e.target.value);\n  };\n\n  // useEffect(() => {\n  //   return () => {\n  //     window.addEventListener(\"scroll\", scrollHandler, true);\n  //     const scrollHandler = () => {\n  //       if (!isFetchedData) {\n  //         // setFetchedResults(fetchedResults + 5);\n  //         // fetchBookData();\n  //         console.log(\"fetch\");\n  //       }\n  //     };\n  //   };\n  // }, [isFetchedData]);\n\n  return (\n    <div className=\"wrapper\">\n      <header className=\"site-header\">\n        <input\n          className=\"input\"\n          type=\"text\"\n          value={inputValue}\n          onChange={inputValueChange}\n          placeholder=\"Type title of book...\"\n        />\n        <button onClick={fetchBookData} className=\"submit-arrow\" />\n      </header>\n      {isFetchedData ? (\n        <img\n          className=\"loading\"\n          src=\"https://cervirobotics.com/wp-content/themes/cervirobotics/assets/src/images/loading.gif\"\n          alt=\"loading\"\n        />\n      ) : (\n        <section>\n          {booksList.length > 0 ? (\n            <BooksListComponent list={booksList} />\n          ) : (\n            <p className=\"no-result\">No results</p>\n          )}\n        </section>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render( < App / > , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA"],"sourceRoot":""}